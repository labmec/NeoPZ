# @file neopz/UnitTest_PZ/CMakeList.txt  -- First Cmake file for Unit Testing modules

enable_testing()
#in this file (and ONLY in this file) we will define CATCH_CONFIG_MAIN
add_library(test_library STATIC test_main.cpp)
if (APPLE)
  target_compile_definitions(test_library PUBLIC MACOSX)
endif()
if(PZ_LOG)
  target_link_libraries(test_library PUBLIC ${Log4cxx_LIBRARY})
endif()

target_link_libraries(test_library PUBLIC pz Catch2::Catch2)
if(APPLE)
   target_link_libraries(test_library PRIVATE ${ACCELERATE_LIB})
ENDIF(APPLE)

add_subdirectory(TestShapeFAD)
add_subdirectory(TestReducedSpace)
add_subdirectory(TestAutoPointer)
add_subdirectory(TestVecTypes)
add_subdirectory(TestFad)
add_subdirectory(TestStruct)
add_subdirectory(TestHCurl)
add_subdirectory(TestTopology)
add_subdirectory(TestRefinement)
add_subdirectory(TestMatrix)
add_subdirectory(TestDeRham)
add_subdirectory(TestEigenSolvers)
add_subdirectory(TestMesh)
add_subdirectory(TestMaterial)
add_subdirectory(TestIntegNum)
add_subdirectory(TestIterator)
add_subdirectory(TestGeometry)
add_subdirectory(TestPlasticity)
add_subdirectory(TestPre)
add_subdirectory(TestIterative)
add_subdirectory(TestTensor)
add_subdirectory(TestRandom)
add_subdirectory(TestBlend)
add_subdirectory(TestShape)
add_subdirectory(TestMultithreading)
add_subdirectory(TestHDivCollapsed)
add_subdirectory(TestHDivApproxSpaceCreator)
add_subdirectory(TestH1ApproxSpaceCreator)
add_subdirectory(TestPersistence)
if(USING_EIGEN)
  add_subdirectory(TestEigen)
endif()

if(USING_LAPACK)
  add_subdirectory(TestSBFem)
endif()
